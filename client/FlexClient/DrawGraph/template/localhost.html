<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/xhtml/1999">
  
  <head>
    <!--
       WikiGraph
       Copyright (c) 2011

       Author: Thomas Van Doren

       This is a static html file that embeds the SWF application.

       TODO: this should be written with the swfobject.embedSWF() method.
      -->
    <meta http-equiv="content-type" value="text/html; charset=utf-8" />

    <style>
      html,body
      {
        background-color: #FFFFFF;
        margin: 0px;
        padding: 0px;
        height: 100%;
        width: 100%;
      }
      div#main 
      {
        height: 100%;
        width: 100%;
      }
    </style>

    <script language="javascript">
		//<![CDATA[
		/**
		 * Get and return the element with the given id.
		 */
		function getElem(id)
		{
			if (navigator.appName.indexOf("Microsoft") < 0)
			{
				return document[id];
			}
			else
			{
				return window[id];
			}
		}
		
		/**
		 * Set the hash parameter of the url to the given value.
		 */
		function setHashTag (value)
		{
			if (value)
			{
				document.location.hash = value;
			}
		}
		
		/**
		 * Send the graph id to the flash app.
		 */
		function getGraphId () 
		{
			if (document.location.hash)
			{
				var id = parseInt(document.location.hash.substring(1));
				loadGraph(id);
			}
		}
		
		/**
		 * Call load graph on the flash application with the given id.
		 */
		function loadGraph (id)
		{
			if (id)
			{
				// send the id to flash app
				getElem("WikiGraphApp").loadGraph("" + id);
			}
		}

		/**
		 * If the url has a hash tag, pass it along to the flash app.
		 */
		window.onload = function ()
		{
			// nothing...
		}
      //]]>
    </script>
    
    <title>WikiGraph</title>
  </head>
  
  <body>
    <div id="main">
        <object id="WikiGraphApp" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" height="100%" width="100%">
          <param name="movie" value="../bin/WikiGraph.swf">
          <param name="quality" value="high">
          <embed name="WikiGraphApp" src="../bin/WikiGraph.swf" width="100%" height="100%" quality="high"></embed>
        </object>
    </div>
  </body>
  
</html>
